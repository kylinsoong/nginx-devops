upstream WLS {
        server 15.55.240.3:17201;
        server 15.55.240.4:17201;
}

server {
        server_name testWLS;
        listen 9000;
        error_log logs/testWLS_debug.log debug;


        location /testWLS_sleep {
                proxy_pass http://WLS;
                proxy_http_version 1.1;
                proxy_method POST;
                proxy_connect_timeout 60s;
		proxy_read_timeout 15s;
                proxy_set_header Connection "";
                proxy_set_header Host   $host;
                proxy_set_header X-Real-IP      $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
        
	location /testWLS {
                proxy_pass http://WLS;
                proxy_http_version 1.1;
                proxy_method POST;
                proxy_connect_timeout 60s;
		proxy_next_upstream error timeout http_404;
		proxy_read_timeout 80s;
                proxy_set_header Connection "";
                proxy_set_header Host   $host;
                proxy_set_header X-Real-IP      $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
}

